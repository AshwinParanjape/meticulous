
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meticulous-ml &#8212; Meticulous  documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/custom.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>
      <div class="side-bar" role="navigation" aria-label="main navigation">
<div class="site-header"><a class='site-title lh-tight' href="index.html">Meticulous</a>
    <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
</div>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=ashwinparanjape&repo=meticulous-ml&type=watch&count=true&size=large&v=2"
    allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






        <nav id='site-nav' class='site-nav' role='navigation' aria-label='Main'><p class="caption"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_tracking.html">Advanced recording</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="meticulous.experiment.html">meticulous.experiment</a></li>
<li class="toctree-l1"><a class="reference internal" href="meticulous.experiments.html">meticulous.experiments</a></li>
</ul>


        </nav>
    <footer class="site-footer">
      &copy;2020, Ashwin Paranjape.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/README.rst.txt"
          rel="nofollow">Page source</a>

    

    
    </footer>
      </div>
    <div class="main" id="top">

            <div id="main-header" class="main-header">
                <div class="search-box">
    <div class="search-input-wrap">
        <form class="search" action="search.html" method="get">
            <input type="text" name="q" id="search-input" class="search-input" tabindex="0" placeholder="Search Meticulous" aria-label="Search Meticulous" autocomplete="off" />
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
            <input type="submit" value="Go" />
        </form>
    </div>
    <!--<div id="search-results" class="search-results"></div>-->
</div>
            </div>

            <div id="main-content-wrap" class="main-content-wrap">
                <div id="main-content" class="main-content" role="main">
                    
  <div class="section" id="meticulous-ml">
<h1>Meticulous-ml<a class="headerlink" href="#meticulous-ml" title="Permalink to this headline">¶</a></h1>
<img alt="https://github.com/AshwinParanjape/meticulous/workflows/tests/badge.svg" src="https://github.com/AshwinParanjape/meticulous/workflows/tests/badge.svg" /><p>Machine learning research involves iterating over ideas and running experiments multiple times.
For research, reproducibility and perhaps sanity, it is important to keep track of the exact setup and resulting output for each run.
But is only useful if it is stored in an accessible and usable manner.
Meticulous is a python library to record the setup and the results of experiments in just a few lines of code.
All the data is stored locally, on the file system, in a human readable format and made further accessible as a Python objects and also a Pandas dataframe.</p>
<p>When an experiment is run using Meticulous, it</p>
<ol class="arabic simple">
<li><p>Creates a new numbered folder to record the experiment.</p></li>
<li><p>Uses VCS (git) to ensure that the code is committed and records the commit-sha.</p></li>
<li><p>Extracts (using argparse) and records the arguments passed to the program.</p></li>
<li><p>Keeps a copy of program output (stdout and stderr).</p></li>
<li><p>Provides a helper function to open files in the experiment directory and to save a json summary.</p></li>
</ol>
<p>When an experiment folder is read in Python using Meticulous,</p>
<ol class="arabic simple">
<li><p>Reads each experiment into an <code class="docutils literal notranslate"><span class="pre">ExperimentReader</span></code> object (subclassable).</p></li>
<li><p>Creates a Pandas dataframe with all the stored metadata.</p></li>
</ol>
<p>Also provided is a handy command-line script (also called <code class="docutils literal notranslate"><span class="pre">meticulous</span></code>) that provides a quick look at the contents of an experiment folder.</p>
<div class="section" id="overriding-defaults">
<h2>Overriding defaults<a class="headerlink" href="#overriding-defaults" title="Permalink to this headline">¶</a></h2>
<p>You can provide your own <code class="docutils literal notranslate"><span class="pre">experiments-directory</span></code> and <code class="docutils literal notranslate"><span class="pre">experiment-id</span></code> to override the defaults.</p>
</div>
</div>
<div class="section" id="design">
<h1>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h1>
<p>ML practioners have very different workflows, with different environments, schedulers and dashboards. And for a good reason, because everyone has different needs. Keeping that in mind, meticulous has the following goals</p>
<div class="section" id="goals">
<h2>Goals<a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Record experiments and setup accurately</p></li>
<li><p>Recorded experiments and setup should be easy to read and access</p></li>
<li><p>Make minimal assumptions about the workflow and work well with other tools</p></li>
<li><p>Be easy to customize and extend according to individual needs</p></li>
<li><p>Encourage best practices by provide opinionated but sensible defaults</p></li>
</ul>
<p>Keeping these goals in mind, following choices were made.</p>
</div>
<div class="section" id="choices">
<h2>Choices<a class="headerlink" href="#choices" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Use git and argparse, which are widely used, to capture the setup.</p></li>
<li><p>Organize experiments using the filesystem in human readable file formats.</p></li>
<li><p>Terminal based script to quickly read and show all experiment data from filesystem.</p></li>
<li><p>Depend only on filesystem and git. No other assumptions about how your experiment is run.</p></li>
<li><p>Support storing and reading summary metrics which are crucial for knowing which experiments were successful.</p></li>
<li><p>Restrict the featureset to minimize footprint and maximize code readability/extensibility.</p></li>
<li><p>Doesn’t run a server in the background, doesn’t have a web UI and doesn’t create plots.</p></li>
<li><p>Provide all experiment data as a pandas dataframe and each experiment as a Python object, so that you can write your own code on top on top of it.</p></li>
</ul>
</div>
</div>
<div class="section" id="backstory">
<h1>Backstory<a class="headerlink" href="#backstory" title="Permalink to this headline">¶</a></h1>
<p>As an NLP PhD student I run lots of ML experiments. There is no standard way of keeping track of experiments. Initially I would concatenate all arguments in a single string. Then I moved on to using random 4 letter folder names for each experiment. Then by the time I would meet with my advisor, I would have forgotten which model change caused the results to improve, because that’s part of the model and not the arguments. A couple of years ago (2018) I started writing a python script to automate the “keeping track of experiments”.</p>
<p>But then I found myself browsing through the filesystem to find which was the best configuration. So I built a fancy dashboard for myself using a Jupyter notebook. But then I moved to a different project and the project specific dashboard would work no more. So I kept whittling the featureset until I was left with a core that was minimal, which meant it worked across all the different projects and setups. And easily extensible, which meant it satisfied individual needs without much effort.</p>
<p>Meanwhile many other experiment tracking and management systems were being developed and I was hopeful I could use them instead. <a class="reference external" href="https://www.comet.ml/site/">Comet.ml</a>, <a class="reference external" href="https://docs.wandb.com">Weights &amp; Biases</a> are cloud based (or self hosted with a server, but still needs a running server). A lot of times I was doing more complex things than graphing the validation loss over epochs and the web UI seemed claustrophobic compared to the freedom I had when I could simply read some files into a dataframe. Others like <a class="reference external" href="https://www.kubeflow.org">Kubeflow</a>, <a class="reference external" href="https://codalab.org">codalab</a> seemed heavy and imposed restrictions on how and where I ran my code.</p>
<p>In my opinion, a one stop solution doesn’t exist, which is what these tools are trying to do (and sell). People need different graphs, complex filters and have differing privacy and collaboration requirements. And plus ML practioners are typically good at and don’t need help manipulating data and plotting graphs. With meticulous I had something that was lightweight (no server), collaborative yet private (comes free with the filesystem), readable (human readable file format) and extensible (experiments as Python objects). A major aspect was defining a standardized specification for what gets stored and where. So I decided to put some weekends into re-examining all the design decisions, cleaning up code, adding basic tests and preparing to release (or rather publicize) meticulous.</p>
</div>


                </div>
            </div>
          

      </div>
    <div class="clearer"></div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Ashwin Paranjape.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.3.1.
    </div>
  </body>
</html>